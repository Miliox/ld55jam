pico-8 cartridge // http://www.pico-8.com
version 42
__lua__

#include src/util.lua
#include src/constants.lua
#include src/math2d.lua
#include src/monsters.lua
#include src/spells.lua
#include src/player.lua
#include src/enemy.lua

function _init()
    init_player()
    init_enemy()
end

function _update()
    if player.health == 0 or enemy.health == 0 then
        return
    end
    update_monsters()
    update_player()
    update_enemy()
end

function _draw()
    cls()
    map()
    draw_monsters()
    draw_gui()
    draw_player()
    draw_enemy()
end

__gfx__
000000000000000000000000000000000000000000000000000000000000000000000000000000007007c0077007c0070000aa00080008000000000000000000
0000000033003008000000000000000000000000000000000000000000000000000000000000000007cc0c7007cc0c7000000aa0088008000000000000000000
007007000333300300000000000000000000000000000000000000000000000000000000000000000c0008c00caaa1c000000a90088888800000000000000000
000770000033073300000000000000000000000000000000000000000000000000000000000000007c03300c7c0aa10c00000a90080000800000000000000000
00077000033333000000000000000000000000000000000000000000000000000000000000000000c03330c7c0aaa0c7aa00aa90800a5a080000000000000000
007007003333300000000000000000000000000000000000000000000000000000000000000000000c0030c00caa0ac00aaaa990800000080000000000000000
0000000000033000000000000000000000000000000000000000000000000000000000000000000007c0cc7007c0cc7000999900080000800000000000000000
00000000000333000000000000000000000000000000000000000000000000000000000000000000700c7007700c700700000000088888800000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444444444441111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
49494444444444441111112100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44944444454444441111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444444444441111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444444444441111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444444444441111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444444445441c11111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444444444441111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444444444444444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444444444444444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4444444444425d444544454400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444446555445555525500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4444444444555d644544454400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444455555545255555500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
444444444d555d544544454400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444444444444544454400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
3030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3031203030313030302030203030303100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3020303030303030303030303020303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3031303030303020313030303031303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3030303030303031303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3020203030303030312120303030313000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3030213030303232323221303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3030303030313020303121303020303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3030303031313030303031303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3030303230303021302031303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3030322021303032222231312130303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3030203030323220222230303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3020303020303020223021203030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3030303030213022223030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3131303030302222302030303031303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3131302130202230302130303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3131313030222230303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
